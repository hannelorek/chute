<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">

<head>
  <!--
  <link rel="shortcut icon" href="favicon.ico" />
  -->
  <link href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAANBuzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQAAAAAAAAAAAAAAAAEBAQEAAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAAAAAAAAAAAAAEBAQEBAAEAAAAAAAAAAAEBAQEBAAEAAAAAAAAAAAEBAQEBAAEAAAAAAAAAAAEBAQEBAAEAAAAAAAAAAAABAQEBAQEAAAAAAAAAAAAAAAEBAAAAAAAAAAAAAAAAAP/4AAD/8AAA/+AAAP/BAAD/gwAA/wcAAP4PAAD8HwAA+D8AAPB/AADgvwAAwX8AAIL/AAAF/wAAA/8AAJ//AAA=" rel="icon" type="image/x-icon">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>
    Chute!
  </title>
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="./style.css" />
</head>

<body>
  <div>Στείλε στον συνομιλητή σου το ακόλουθο μήνυμα:</div>
  <div id="directions_write">
    <span>Επικοινώνησε μαζί μου μέσω της ιστοσελίδας μίας χρήσεως</span>
    <br/>
    <span id="svg_caption"></span>
  </div>

  <div id="directions_read>Και φύλαξε τον ακόλουθο κώδικα QR για μελλοντική ανάγνωση του μηνύματος που θα σου στείλουν</div>
  <div id="svg_container"></div>

<script src="js/qrcode.min.js"></script>
<script>
const randomString = generateRandomString(32);
const currentUrl = window.location.href; // Get the current webpage URL
const svgUrl = currentUrl + "?key=" + encodeURIComponent(randomString); // Concatenate the random string with the URL
const qrcode = new QRCode({
  content: svgUrl,
  container: "svg-viewbox", // Responsive use
  join: true                // Crisp rendering and 4-5x reduced file size
});
var svg = qrcode.svg();
document.getElementById("svg_container").innerHTML = svg;
document.getElementById("svg_caption").innerHTML =
  currentUrl.replace(/\/*$/,"") +
  "/write.html?key=" + encodeURIComponent(randomString);



function generateRandomString(length) {
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    let result = '';
    for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        result += characters[randomIndex];
    }
    return result;
}


</script> 
</body>

</html>
